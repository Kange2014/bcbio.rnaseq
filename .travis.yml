sudo: false

env:
  global:
    - R_LIBS_USER=~/R

addons:
  apt:
    sources:
      - r-packages-precise
    packages:
      - fabric
      - pandoc
      - r-base-core
      - r-base-dev
      - ed

cache:
  directories:
    - ~/R
    - ~/.linuxbrew

install:
  - if brew --version; then echo "homebrew found, skipping installation."; else echo -ne '\n' | ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/linuxbrew/go/install)"; fi
  - export PATH=/home/travis/.linuxbrew/bin:$PATH
  - brew tap chapmanb/homebrew-cbl
  - brew tap homebrew/homebrew-science
  - brew install cufflinks-binary
  - R --version
  - R -e '.libPaths(); sessionInfo()'
  - R CMD javareconf -e 'R -e install.packages("rJava",repos="http://cran.at.r-project.org")'
  - Rscript resources/scripts/install_libraries.R

language: clojure
lein: lein2
